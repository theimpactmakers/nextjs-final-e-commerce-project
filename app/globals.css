/* stylelint-disable at-rule-no-unknown */
/* stylelint-disable function-no-unknown */
@import 'tailwindcss';

@plugin 'tailwindcss-animate';

@custom-variant dark (&:is(.dark *));

@utility container {
  margin-inline: auto;
  padding-inline: 1rem;

  @media (width >=theme(--breakpoint-xs)) {
    padding-inline: 0.5rem;
  }

  @media (width >=theme(--breakpoint-xsm)) {
    padding-inline: 0.75rem;
  }

  @media (width >=theme(--breakpoint-xxl)) {
    padding-inline: 4rem;
  }

  @media (width >=theme(--breakpoint-sm)) {
    padding-inline: 1rem;
  }

  @media (width >=theme(--breakpoint-md)) {
    padding-inline: 1.5rem;
  }

  @media (width >=theme(--breakpoint-lg)) {
    padding-inline: 2rem;
  }

  @media (width >=theme(--breakpoint-xl)) {
    padding-inline: 2.5rem;
  }
}

@theme {
  --breakpoint-xs: 320px;
  --breakpoint-xsm: 375px;
  --breakpoint-xxl: 2000px;

  /* Direct color definitions using HSL (v4 compatible) */
  --color-background: hsl(0 0% 100%);
  --color-foreground: hsl(27 38% 10%);

  --color-card: hsl(0 0% 100%);
  --color-card-foreground: hsl(27 38% 10%);

  --color-popover: hsl(0 0% 100%);
  --color-popover-foreground: hsl(27 38% 10%);

  --color-primary: hsl(27 38% 36%);
  --color-primary-foreground: hsl(0 0% 98%);

  --color-secondary: hsl(26 18% 80%);
  --color-secondary-foreground: hsl(27 38% 36%);

  --color-muted: hsl(26 18% 90%);
  --color-muted-foreground: hsl(6 25% 25%);

  --color-accent: hsl(33 100% 37%);
  --color-accent-foreground: hsl(0 0% 98%);

  --color-destructive: hsl(0 84.2% 60.2%);
  --color-destructive-foreground: hsl(0 0% 98%);

  --color-border: hsl(26 18% 85%);
  --color-input: hsl(26 18% 85%);
  --color-ring: hsl(27 38% 36%);

  --color-chart-1: hsl(12 76% 61%);
  --color-chart-2: hsl(173 58% 39%);
  --color-chart-3: hsl(197 37% 24%);
  --color-chart-4: hsl(43 74% 66%);
  --color-chart-5: hsl(27 87% 67%);

  --radius-lg: 0.75rem;
  --radius-md: calc(0.75rem - 2px);
  --radius-sm: calc(0.75rem - 4px);
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: hsl(26 18% 85%);
  }

  body {
    background-color: hsl(0 0% 100%);
    color: hsl(27 38% 10%);
  }
}

/* Brown hover glow helpers */
@utility brown-glow-hover {
  &:hover {
    color: #513431 !important;
    text-shadow: 0 0 8px rgba(81, 52, 49, 0.55);
  }
}

/* Allow parent hover to trigger child glow */
@utility brown-glow {
  transition: color .15s ease;
}

@utility brown-color-hover {
  &:hover {
    color: #513431 !important;
  }
}

/* Group brown hover variant */
@custom-variant group-brown (&:is(.group-brown:hover *));

/* Show/hide utilities for specific breakpoint range */
@utility show-md-narrow {
  display: none !important;

  @media (min-width: 768px) and (max-width: 915px) {
    display: inline-flex !important;
  }
}

@utility hide-md-narrow {
  display: inline-flex !important;

  @media (min-width: 768px) and (max-width: 915px) {
    display: none !important;
  }
}


@media (min-width: 768px) and (max-width: 886px) {

  /* target the header search input by id */
  #header-search {
    width: 10rem !important;
    /* ~160px */
  }

  /* if other elements need smaller spacing, slightly reduce form margin */
  form[method="get"].header-search-form {
    margin-right: 0.25rem;
  }
}

/* Shrink logo slightly between 768px and 811px to avoid overlap before mobile menu */
@media (min-width: 768px) and (max-width: 811px) {
  .logo-md-narrow {
    min-width: 56px !important;
  }

  .logo-md-narrow img {
    width: 72px !important;
    height: auto !important;
  }
}

/* Extra small phone tweaks (mobile-first: improve layout on tiny handsets) */
@media (max-width: 375px) {

  /* reduce header height so content fits better on very small screens */
  header>.relative.z-10 {
    height: 4rem !important;
    /* 64px */
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* slightly smaller logo on small phones */
  .logo-md-narrow {
    min-width: 48px !important;
  }

  .logo-md-narrow img {
    width: 64px !important;
    height: auto !important;
  }

  /* shrink the desktop search when the viewport is narrow but still shows md layout */
  #header-search {
    width: 9rem !important;
    /* ~144px */
  }

  /* mobile overlay logo slightly smaller */
  .fixed .absolute.inset-y-0.right-0 img,
  .absolute.inset-y-0.right-0 img {
    width: 64px !important;
    height: auto !important;
  }
}

/* Ultra-small phones (e.g. older 320px devices) */
@media (max-width: 360px) {
  header>.relative.z-10 {
    height: 3.5rem !important;
    /* 56px */
    padding-left: 0.25rem !important;
    padding-right: 0.25rem !important;
  }

  .logo-md-narrow img {
    width: 56px !important;
    height: auto !important;
  }

  /* ensure mobile overlay header logo remains compact */
  .absolute.inset-y-0.right-0 img {
    width: 56px !important;
    height: auto !important;
  }

  /* make sure any potential padding/margins on header controls are reduced */
  .md\:hidden+.logo-md-narrow,
  .col-start-3 {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
}